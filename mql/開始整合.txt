================================================================================
                    🚀 5 分鐘完成整合 - 超簡單！
================================================================================

【準備】
1. 打開您的原始 EA：A計算盈虧_r9a_原始.mq5
2. 另存新檔為：A計算盈虧_r9a_監控版.mq5
3. 用 MT5 MetaEditor 或 VS Code 打開監控版


【整合步驟 - 只需複製貼上 5 次】

┌─────────────────────────────────────────────────┐
│ 步驟 1：添加監控參數                              │
└─────────────────────────────────────────────────┘
   按 Ctrl+F 搜尋：每手成本超過多少通知 = -20;
   找到後，在這一行的【下一行】貼上第1段代碼
   （從「監控代碼_全部5段.txt」複製第1段）


┌─────────────────────────────────────────────────┐
│ 步驟 2：添加全域變數                              │
└─────────────────────────────────────────────────┘
   按 Ctrl+F 搜尋：double  A總息 = 0;
   找到後，在這一行的【下一行】貼上第2段代碼


┌─────────────────────────────────────────────────┐
│ 步驟 3：添加兩個監控函數                          │
└─────────────────────────────────────────────────┘
   按 Ctrl+F 搜尋：telegram_push_messages_
   找到這個函數，滾動到結尾（有 return; 的 } 那行）
   在 } 的【下一行】貼上第3段代碼（兩個函數）


┌─────────────────────────────────────────────────┐
│ 步驟 4：OnInit 初始化                            │
└─────────────────────────────────────────────────┘
   按 Ctrl+F 搜尋：S4_分加一 = Step4_IC分_0to58 + 1;
   找到後，在這一行的【下一行】貼上第4段代碼
   （確認是在 return(INIT_SUCCEEDED); 之前）


┌─────────────────────────────────────────────────┐
│ 步驟 5A：OnTick 心跳檢查                         │
└─────────────────────────────────────────────────┘
   按 Ctrl+F 搜尋：void OnTick()
   找到 void OnTick() { 這行
   在 { 的【下一行】（OnTick 函數第一行）貼上第5段A代碼


┌─────────────────────────────────────────────────┐
│ 步驟 5B：發送統計數據                            │
└─────────────────────────────────────────────────┘
   按 Ctrl+F 搜尋：已發出TG通知1 = 1;
   找到後，在這一行的【前一行】貼上第5段B代碼


【編譯測試】
1. Ctrl+S 儲存
2. 按 F7 編譯
3. 檢查是否有錯誤（應該沒有）


【設定 MT5】
1. MT5 -> 工具 -> 選項 -> EA交易
2. 勾選「允許 WebRequest」
3. 添加：http://192.168.31.206:8080
4. 確定


【掛載測試】
1. 掛載 EA 到圖表
2. 查看日誌應該看到：
   ✓ 網頁監控已啟用 NodeID: A1_VPS0
   ✓ 網頁監控心跳成功
3. 按「開始」按鈕計算數據
4. 查看日誌應該看到：
   ✓ A/B統計發送成功
5. 開啟網頁：http://192.168.31.206


【視覺參考】

原始 EA 結構：                     整合後：
┌─────────────┐                ┌─────────────┐
│ #property    │                │ #property    │
│ input 參數   │  ──────→       │ input 參數   │
│              │   第1段         │ ┌─監控參數─┐ │ ← 新增
│              │                │ └─────────┘ │
├─────────────┤                ├─────────────┤
│ 全域變數     │                │ 全域變數     │
│ A總息 = 0   │  ──────→       │ A總息 = 0    │
│              │   第2段         │ ┌─監控變數─┐ │ ← 新增
│              │                │ └─────────┘ │
├─────────────┤                ├─────────────┤
│ telegram函數 │                │ telegram函數 │
│              │  ──────→       │ ┌─監控函數─┐ │ ← 新增
│              │   第3段         │ └─────────┘ │
├─────────────┤                ├─────────────┤
│ OnInit()     │                │ OnInit()     │
│   ...        │  ──────→       │   ...        │
│   S4_分加一  │   第4段         │   S4_分加一  │
│              │                │   ┌─初始化─┐ │ ← 新增
│   return     │                │   └───────┘ │
│              │                │   return     │
├─────────────┤                ├─────────────┤
│ OnTick()     │                │ OnTick()     │
│   {          │  ──────→       │   {          │
│              │   第5A段        │   ┌─心跳──┐ │ ← 新增
│   ...        │                │   └───────┘ │
│              │                │   ...        │
│   已發出TG   │  ──────→       │   ┌─發送──┐ │ ← 新增
│              │   第5B段        │   └───────┘ │
│              │                │   已發出TG   │
│   ...        │                │   ...        │
└─────────────┘                └─────────────┘


【需要幫助？】
如果遇到問題：
1. 檢查是否貼在正確位置
2. 檢查是否漏貼某一段
3. 查看編譯錯誤訊息
4. 把錯誤訊息發給我


完成！🎉
================================================================================
